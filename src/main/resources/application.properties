spring.application.name=MilitaryApp

# ---------------------------------------------------------
# DATABASE CONFIGURATION (Cloud-First Design)
# ---------------------------------------------------------
# The syntax ${ENV_VAR:default} means:
# 1. Look for the Environment Variable first (e.g. from Render/Aiven)
# 2. If not found, use the 'default' value (localhost)
# ---------------------------------------------------------

# URL: Uses Render/Aiven URL if set, otherwise defaults to local Postgres
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/military_db}

# USERNAME: Uses Render/Aiven User if set, otherwise 'postgres'
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}

# PASSWORD: Uses Render/Aiven Password if set, otherwise 'password'
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:system}

# ---------------------------------------------------------
# DRIVER & JPA SETTINGS
# ---------------------------------------------------------
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Limit connection pool to prevent "FATAL: remaining connection slots" error
spring.datasource.hikari.maximum-pool-size=3
spring.datasource.hikari.minimum-idle=1